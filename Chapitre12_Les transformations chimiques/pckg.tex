

%% Langue et compilation

\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[french]{babel}
\usepackage{lmodern}       % permet d'avoir certains "fonts" de bonne qualite
% \usepackage{helvet}
\renewcommand{\familydefault}{\sfdefault} % police sans serif 
%% LISTE DES PACKAGES
\usepackage{multirow}
\usepackage{mathtools}     % package de base pour les maths
\usepackage{amsmath}       % mathematical type-setting
\usepackage{amssymb}       % symbols speciaux pour les maths
\usepackage{textcomp}      % symboles speciaux pour el text
\usepackage{gensymb}       % commandes generiques \degree etc...


\usepackage{wrapfig}       % pour entourer a cote d'une figure
\usepackage{color}         % package des couleurs
\usepackage[table,xcdraw]{xcolor}        % autre package pour les couleurs
\usepackage{pgfplots}      % pacakge pour creer des graph
\usepackage{epsfig}        % permet d'inclure des graph en .eps
\usepackage{graphicx}      % arguments dans includegraphics
\usepackage{pdfpages}      % permet d'insérer des pages pdf dans le document
\usepackage{subfig}        % permet de creer des sous-figure
\usepackage{pst-all}       % utile pour certaines figures en pstricks
\usepackage{pstricks}
\usepackage{pst-labo}
\usepackage{lipsum}        % package qui permet de faire des essais
\usepackage{array}         % permet de faire des tableaux
\usepackage{multicol}      % plusieurs colonnes sur une page
\usepackage{enumitem}      % pro­vides user con­trol: enumerate, itemize and description
\usepackage{hyperref}      % permet de creer des hyperliens dans le document
\usepackage{lscape}        % permet de mettre une page en mode paysage
\usepackage{fancyhdr}      % Permet de mettre des informations en hau et en bas de page      
\usepackage[framemethod=tikz]{mdframed} % breakable frames and coloured boxes
\usepackage[top=2cm, bottom=2cm, left=1.5cm, right=1.5cm]{geometry} % donne les marges
\usepackage[font=normalsize, labelfont=bf,labelsep=endash, figurename=Figure]{caption} % permet de changer les legendes des figures
\frenchbsetup{StandardItemLabels=true} % je ne sais plus
\usepackage{tabularx} % tableaux
\setlength{\tabcolsep}{7pt}
\renewcommand{\arraystretch}{2}
\usepackage{tcolorbox} % POur faire des encadrés simplement


\pgfplotsset{compat=1.18}
%% PACKAGE POUR LA CHIMIE
\usepackage{lewis} % schema de lewis
\usepackage{bohr} % modele de bohr
\usepackage{chemfig} % schema de lewis plus fonctionnel
\usepackage{chemist} % dessins de montage de chimie
\usepackage{pgf-spectra} % permet de tracer les spectres lumineux des éléments du tableau périodique et des ions


%% MISE EN PAGE

\pagestyle{fancy}     % Défini le style de la page
\renewcommand{\headrulewidth}{0pt}      % largeur du trait en haut de la page
\fancyhead[L]{\footnotesize \textbf{\textcolor{cyan}{Cours}} - Les transformations chimiques}         % info coin haut gauche
\fancyhead[R]{\footnotesize Seconde générale}  % info coin haut droit

% bas de la page
\renewcommand{\footrulewidth}{0pt}      % largeur du trait en bas de la page
\fancyfoot[L]{\footnotesize }  % info coin bas gauche
\fancyfoot[R]{\footnotesize Lycée GT Jean Guéhenno}                         % info coin bas droit


% Documents à deux colonnes
\setlength{\columnseprule}{1pt} 
\setlength{\columnsep}{30pt}

%% Couleur des references

\hypersetup{
	colorlinks=true,
	linkcolor=black,
	citecolor=blue,
	urlcolor=black
		   }

%% NOUVELLES COMMANDES PERSO

\DeclareMathOperator{\e}{e} % permet d'ecrire l'exponentielle usuellement
\newcommand{\gap}{\vspace{0.15cm}}   % defini une commande pour sauter des lignes
\renewcommand{\vec}{\overrightarrow} % pour faire des vecteurs plus rapidement
\newcommand{\Laplace}{\mathop{}\!\mathbin\bigtriangleup} % symbole de Laplace
\newcommand{\smallO}[1]{\ensuremath{\mathop{}\mathopen{}o\mathopen{}\left(#1\right)}} % petit o
\newcommand{\cit}{\color{blue}\cite} % permet d'avoir les citations de couleur bleues
\newcommand{\bib}{\color{black}\bibitem} % paragraphe biblio en noir et blanc
\newcommand{\bthebiblio}{\color{black} \begin{thebibliography}} % idem necessaire sinon bug a cause de la couleur
\newcommand{\ethebiblio}{\color{black} \end{thebibliography}}   % idem
% Pour donner rapidement les isotopes d'un atome 
\newcommand{\isotope}[3]{%
\settowidth\@tempdimb{\ensuremath{\scriptstyle#1}}%
\settowidth\@tempdimc{\ensuremath{\scriptstyle#2}}%
\ifnum\@tempdimb>\@tempdimc%
    \setlength{\@tempdima}{\@tempdimb}%
\else%
    \setlength{\@tempdima}{\@tempdimc}%
\fi%
\begingroup%
\ensuremath{^{\makebox[\@tempdima][r]{\ensuremath{\scriptstyle#1}}}_{\makebox[\@tempdima][r]{\ensuremath{\scriptstyle#2}}}\text{#3}}%
\endgroup%
}%



%% TIKZ POUR DE JOLIS SCHEMAS 
\usepackage{tikz}          % package graphique
\usepackage[european, straightvoltages, RPvoltages]{circuitikz} % pour dessiner des circuits électriques
\usetikzlibrary{3d, shapes.multipart}
\usetikzlibrary{decorations.pathreplacing,decorations.markings}
\usetikzlibrary{babel}
\usetikzlibrary{plotmarks} % librairie pour les graphes
\usetikzlibrary{patterns}  % necessaire pour certaines choses predefinies sur tikz
\usetikzlibrary{shadows}   % ombres des encadres
\usetikzlibrary{backgrounds} % arriere plan des encadres
\newcommand\opacity{1}               % opacity 
\pgfsetfillopacity{\opacity}


% Styles
\tikzset{>=latex} % for LaTeX arrow head
\tikzset{axis/.style={black, thick,->}}
\tikzset{vector/.style={>=stealth,->}}
\tikzset{every text node part/.style={align=center}}
\usepackage{amsmath} % for \text
 
\tikzset{
  % style to apply some styles to each segment of a path
  on each segment/.style={
    decorate,
    decoration={
      show path construction,
      moveto code={},
      lineto code={
        \path [#1]
        (\tikzinputsegmentfirst) -- (\tikzinputsegmentlast);
      },
      curveto code={
        \path [#1] (\tikzinputsegmentfirst)
        .. controls
        (\tikzinputsegmentsupporta) and (\tikzinputsegmentsupportb)
        ..
        (\tikzinputsegmentlast);
      },
      closepath code={
        \path [#1]
        (\tikzinputsegmentfirst) -- (\tikzinputsegmentlast);
      },
    },
  },
  % style to add an arrow in the middle of a path
  mid arrow/.style={postaction={decorate,decoration={
        markings,
        mark=at position .5 with {\arrow[#1]{stealth}}
      }}},
}



%% COULEURS PREDEFINIES


\definecolor{definitionf}{RGB}{220,252,220}
\definecolor{definitionl}{RGB}{39,123,69}
\definecolor{definitiono}{RGB}{72,148,101}
\definecolor{propositionf}{RGB}{255,216,218}
\definecolor{propositionl}{RGB}{38,38,38}
\definecolor{propositiono}{RGB}{109,109,109}
\definecolor{theof}{RGB}{255,216,218}
\definecolor{theol}{RGB}{160,0,4}
\definecolor{theoo}{RGB}{221,65,100}
\definecolor{avertl}{RGB}{163,92,0}
\definecolor{averto}{RGB}{255,144,0}
\definecolor{histf}{RGB}{241,238,193}
\definecolor{metf}{RGB}{220,230,240}
\definecolor{metl}{RGB}{56,110,165}
\definecolor{meto}{RGB}{109,109,109}
\definecolor{remf}{RGB}{230,240,250}
\definecolor{remo}{RGB}{150,150,150}
\definecolor{exef}{RGB}{240,240,240}
\definecolor{protf}{RGB}{247,228,255}
\definecolor{protl}{RGB}{105,0,203}
\definecolor{proto}{RGB}{174,88,255}
\definecolor{grid}{RGB}{180,180,180}
\definecolor{titref}{RGB}{230,230,230}
\definecolor{vert}{RGB}{23,200,23}
\definecolor{violet}{RGB}{180,0,200}
\definecolor{copper}{RGB}{217, 144, 88}
\definecolor{cobalt}{rgb}{0.0, 0.28, 0.67}
\definecolor{applegreen}{rgb}{0.55, 0.71, 0.0}
\definecolor{cerulean}{rgb}{0, 123, 167}
\tcbuselibrary{most}
\tcbset{colback=cobalt!5!white,colframe=cobalt!75!black}

  

%% JOLIS CADRES

\tikzset{every shadow/.style={opacity=1}}

\global\mdfdefinestyle{doc}{backgroundcolor=white, shadow=true, shadowcolor=propositiono, linewidth=1pt, linecolor=black, shadowsize=5pt}
\global\mdfdefinestyle{titr}{backgroundcolor=metf, shadow=true, shadowcolor=propositiono, linewidth=1pt, linecolor=black, shadowsize=5pt}
\global\mdfdefinestyle{theo}{backgroundcolor=theof, shadow=true, shadowcolor=theoo, linewidth=1pt, linecolor=theol, shadowsize=5pt}
\global\mdfdefinestyle{prop}{backgroundcolor=theof, shadow=true, shadowcolor=propositiono, linewidth=1pt, linecolor=theol, shadowsize=5pt}
\global\mdfdefinestyle{def}{backgroundcolor=definitionf, shadow=true, shadowcolor=definitiono, linewidth=1pt, linecolor=definitionl, shadowsize=5pt}
\global\mdfdefinestyle{histo}{backgroundcolor=histf, shadow=true, shadowcolor=propositiono, linewidth=1pt, linecolor=black, shadowsize=5pt}
\global\mdfdefinestyle{avert}{backgroundcolor=white, shadow=true, shadowcolor=averto, linewidth=1pt, linecolor=avertl, shadowsize=5pt}
\global\mdfdefinestyle{met}{backgroundcolor=metf, shadow=true, shadowcolor=meto, linewidth=1pt, linecolor=metl, shadowsize=5pt}
\global\mdfdefinestyle{rem}{backgroundcolor=metf, shadow=true, shadowcolor=meto, linewidth=1pt, linecolor=metf, shadowsize=5pt}
\global\mdfdefinestyle{exo}{backgroundcolor=exef, shadow=true, shadowcolor=propositiono, linewidth=1pt, linecolor=exef, shadowsize=5pt}
\global\mdfdefinestyle{not}{backgroundcolor=definitionf, shadow=true, shadowcolor=propositiono, linewidth=1pt, linecolor=black, shadowsize=5pt}
\global\mdfdefinestyle{proto}{backgroundcolor=cobalt!05, shadow=true, shadowcolor=cobalt!90, linewidth=1pt, linecolor=cobalt!90, shadowsize=5pt}


%%%%%%%%%%% Cadre pour le titre

\newcommand{\titresoustitre}[2]{
  \begin{center}
    \begin{mdframed}[style=titr, leftmargin=0pt, rightmargin=0pt, innertopmargin=8pt, innerbottommargin=8pt, innerrightmargin=10pt, innerleftmargin=10pt]
      
      
      \begin{center}
        \Large{\textbf{#1}} \\
        \large{\textbf{#2}}
      \end{center}
    \end{mdframed}
  \end{center}
}

\newcommand{\titre}[1]{
  \begin{center}
    \begin{mdframed}[style=titr, leftmargin=15pt, rightmargin=15pt, innertopmargin=8pt, innerbottommargin=8pt, innerrightmargin=10pt, innerleftmargin=10pt]
      
      
      \begin{center}
        \Large{\textbf{#1}}
      \end{center}
    \end{mdframed}
  \end{center}
}
%% definition
\newtcolorbox{definition}[1]{
	colback=applegreen!5!white,
  	colframe=applegreen!65!black,
	fonttitle=\bfseries,
  	title={#1}}


%% code informatique
\newtcolorbox{Programme}[1]{
	colback=cobalt!5!white,
  	colframe=cobalt!65!black,
	fonttitle=\bfseries,
  	title={#1}} 

%% Proposition / propriétés
\newtcolorbox{proposition}[1]{
      colback=theof,%!5!white,
        colframe=theol,%!65!black,
      fonttitle=\bfseries,
        title={#1}}  

        %% Exercices 
\newcommand{\exo}[3]{
  \begin{mdframed}[style=exo, leftmargin=0pt, rightmargin=0pt, innertopmargin=8pt, innerbottommargin=8pt, innerrightmargin=10pt, innerleftmargin=10pt]

    \noindent \textbf{Exercice #1 - #2}\medskip

    #3
  \end{mdframed}
}
\newcommand{\avert}[3]{
  \begin{mdframed}[style=avert, leftmargin=0pt, rightmargin=0pt, innertopmargin=8pt, innerbottommargin=8pt, innerrightmargin=10pt, innerleftmargin=10pt]

    \noindent \textbf{Avertissement #1 - #2}\medskip

    #3
  \end{mdframed}
}
\newcommand{\travail}[1]{
  \begin{mdframed}[style=exo, leftmargin=0pt, rightmargin=0pt, innertopmargin=8pt, innerbottommargin=8pt, innerrightmargin=10pt, innerleftmargin=10pt]

    \noindent \textbf{Travail à faire}\medskip

    #1
  \end{mdframed}
}

\newtcolorbox{Resultat}[1]{
	colback=theof,%!5!white,
	colframe=theoo!85!black,
  fonttitle=\bfseries,
	title={#1}} 	

%% Documents
\newcommand{\doc}[3]{
    \begin{mdframed}[style=doc, leftmargin=0pt, rightmargin=0pt, innertopmargin=8pt, innerbottommargin=8pt, innerrightmargin=10pt, innerleftmargin=10pt]
  
      \noindent \textbf{Document #1 - #2}\medskip
  
      #3
    \end{mdframed}
}

%% Protocol 

\newcommand{\protocol}[2]{
    \begin{mdframed}[style=proto, leftmargin=0pt, rightmargin=0pt, innertopmargin=8pt, innerbottommargin=8pt, innerrightmargin=10pt, innerleftmargin=10pt]
  
      \noindent \textbf{Protocole - #1}\medskip
  
      #2
    \end{mdframed}
}
%% Histoire 

\newcommand{\histo}[2]{
  \begin{mdframed}[style = histo, leftmargin=0pt, rightmargin=0pt, innertopmargin=8pt, innerbottommargin=8pt, innerrightmargin=10pt, innerleftmargin=10pt]

  \noindent \textbf{#1}\smallskip

    #2
  \end{mdframed}
}

\newcommand{\methode}[3]{
  \begin{mdframed}[style=met, leftmargin=0pt, rightmargin=0pt, innertopmargin=8pt, innerbottommargin=8pt, innerrightmargin=10pt, innerleftmargin=10pt]

    \noindent \textbf{Méthode #1 - #2}\medskip

    #3
  \end{mdframed}
}


%% MODIFICATION DE CHAPTER  

\makeatletter
\def\@makechapterhead#1{%
  %%%%\vspace*{50\p@}% %%% removed!
  {\parindent \z@ \raggedright \normalfont
    \ifnum \c@secnumdepth >\m@ne
        \huge\bfseries \@chapapp\space \thechapter
        \par\nobreak
        \vskip 20\p@
    \fi
    \interlinepenalty\@M
    \Huge \bfseries #1\par\nobreak
    \vskip 40\p@
  }}
\def\@makeschapterhead#1{%
  %%%%%\vspace*{50\p@}% %%% removed!
  {\parindent \z@ \raggedright
    \normalfont
    \interlinepenalty\@M
    \Huge \bfseries  #1\par\nobreak
    \vskip 40\p@
  }}
  

%% Fleches au milieu d'un rayon lumineux
\ctikzset{current arrow color/.initial=black}% create key

\pgfdeclareshape{currarrow}{
    \anchor{center}{
        \pgfpointorigin
    }
        \anchor{tip}{
        \pgfpointorigin
            \pgf@circ@res@step = \pgf@circ@Rlen
                \divide \pgf@circ@res@step by 16
        \pgf@x  =\pgf@circ@res@step
        }
    \behindforegroundpath{      

        \pgfscope
            \pgf@circ@res@step = \pgf@circ@Rlen
            \divide \pgf@circ@res@step by 16

            \pgfpathmoveto{\pgfpoint{-.7\pgf@circ@res@step}{0pt}}
            \pgfpathlineto{\pgfpoint{-.7\pgf@circ@res@step}{-.8\pgf@circ@res@step}}
            \pgfpathlineto{\pgfpoint{1\pgf@circ@res@step}{0pt}}
            \pgfpathlineto{\pgfpoint{-.7\pgf@circ@res@step}{.8\pgf@circ@res@step}}
            \pgfpathlineto{\pgfpoint{-.7\pgf@circ@res@step}{0pt}}           
            \pgfsetcolor{\pgfkeysvalueof{/tikz/circuitikz/current arrow color}}
            \pgfusepath{draw,fill}

        \endpgfscope
    }
}
\makeatother


\definecolor{darkpastelgreen}{rgb}{0.01, 0.75, 0.24}
\newcommand{\mobiliser}{
  % \begin{flushleft}
    \begin{tikzpicture}[scale=.7]
      % \draw (0,0) -- (0,.2);
      \draw[color = darkpastelgreen, fill = darkpastelgreen] (0,-0.3) circle (0.3) node[white]{C};
      \node[draw, white] at (0,-0.3) {\textbf{M}};
    \end{tikzpicture}
    % \end{flushleft}
}

\newcommand{\realiser}{
  % \begin{flushleft}
    \begin{tikzpicture}[scale=.7]
      % \draw (0,0) -- (0,.2);
      \draw[color = blue, fill = blue] (0,-0.3) circle (0.3)node[white]{R};
      % \node[draw, white] at (0,-0.3) {\textbf{R}};
    \end{tikzpicture}
    % \end{flushleft}
}

\definecolor{bostonuniversityred}{rgb}{0.8, 0.0, 0.0}

\newcommand{\analyser}{
  % \begin{flushleft}
    \begin{tikzpicture}[scale=.7]
      % \draw (0,0) -- (0,.2);
      \draw[color = bostonuniversityred, fill = bostonuniversityred] (0,-0.3) circle (0.3)node[white]{A};
      % \node[draw, white] at (0,-0.3) {\textbf{A}};
    \end{tikzpicture}
    % \end{flushleft}
}
\definecolor{amethyst}{rgb}{0.6, 0.4, 0.8}

\newcommand{\communiquer}{
  % \begin{flushleft}
    \begin{tikzpicture}[scale=.7]
      % \draw (0,0) -- (0,.2);
      \draw[color = amethyst, fill = amethyst] (0,-0.3) circle (0.3) node[white]{C};
      % \node[draw, white] at (0,-0.3) {\textbf{C}};
    \end{tikzpicture}
    % \end{flushleft}
}

\newcommand{\objectifs}[1]{
	\begin{minipage}{.02\textheight}
	\rotatebox{90}{\textbf{\large Objectifs}}
	\end{minipage}
	\begin{minipage}{.9\linewidth}
			#1 
	\end{minipage}
}